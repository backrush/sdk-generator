require "../service"
require "../models/**"

module {{spec.title | caseUcfirst}}
    class {{ service.name | caseUcfirst }} < Service

        def initialize(client : Client)
            @client = client
        end

{% for method in service.methods %}
{{ method.description | rubyComment }}
        #
{% for parameter in method.parameters.all %}
        # @param [{{ parameter | typeName }}] {{ parameter.name | caseSnake | escapeKeyword }} {{ parameter.description | raw }}
{% endfor %}
        #
        # @return [{{ method.responseModel | caseUcfirst }}]
        def {{ method.name | caseSnake }}({% for parameter in method.parameters.all %}{{ parameter.name | caseSnake | escapeKeyword }}{% if not parameter.required %} = nil{% else %} : {{ parameter | typeName }}{% endif %}{% if not loop.last %}, {% endif %}{% endfor %}{% if 'multipart/form-data' in method.consumes %}, on_progress = nil{% endif %}) : {{ method | returnType(spec) }}{% if method | returnType(spec) | length != 0 %} |{% endif %} JSON::Any | String | Nil
        {{ include('crystal/base/params.twig')}}
        {%~ if 'multipart/form-data' in method.consumes %}
        {{ include('crystal/base/requests/file.twig')}}
        {%~ else %}
        {{ include('crystal/base/requests/api.twig')}}
        {%~ endif %}
        end

{% endfor %}
    end 
end