function polyfillPackage(name, package) {
  if (typeof globalThis.EdgeRuntime !== "string" && !(name in globalThis)) {
    try {
      globalThis[name] = require(package)[name];
    } catch {}
  }
}

polyfillPackage("URL", "url");
polyfillPackage("fetch", "undici");
polyfillPackage("FormData", "undici");
polyfillPackage("File", "undici");
polyfillPackage("Agent", "undici");
polyfillPackage("ReadableStream", "web/streams");