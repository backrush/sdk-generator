if (typeof globalThis.EdgeRuntime !== "string") {
  globalThis.Agent = require("undici").Agent;

  if (typeof globalThis.fetch === "undefined") {
    globalThis.fetch = require("undici").fetch;
  }

  if (typeof globalThis.FormData === "undefined") {
    globalThis.FormData = require("undici").FormData;
  }

  if (typeof globalThis.FormData === "undefined") {
    globalThis.File = require("undici").File;
  }

  if (typeof globalThis.ReadableStream === "undefined") {
    globalThis.ReadableStream = require("stream/web").ReadableStream;
  }

  if (typeof globalThis.URL === "undefined") {
    globalThis.URL = require("url").URL;
  }

  if (typeof globalThis.ReadableStream === "undefined") {
    globalThis.ReadableStream = require("stream/web").ReadableStream;
  }
}