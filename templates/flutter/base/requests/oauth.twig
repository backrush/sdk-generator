        final Map<String, dynamic> params = {
{% for parameter in method.parameters.query %}
            '{{ parameter.name }}': {{ parameter.name | caseCamel | escapeKeyword }},
{% endfor %}
{% for parameter in method.parameters.body %}
            '{{ parameter.name }}': {{ parameter.name | caseCamel | escapeKeyword }},
{% endfor %}
{% if method.type == 'webAuth' %}
{% if method.security|length > 0 %}
{% for node in method.security %}
{% for key,header in node|keys %}
            '{{header|caseLower}}': client.config['{{header|caseLower}}'],
{% endfor %}
{% endfor %}
{% endif %}
{% endif %}
        };

{% if method.type == 'webAuth' %}

        final List query = [];

        params.forEach((key, value) {
          if (value is List) { 
            for (var item in value) {
              query.add(Uri.encodeComponent(key + '[]') + '=' + Uri.encodeComponent(item));
            }
          } else if(value != null) {
              query.add(Uri.encodeComponent(key) + '=' + Uri.encodeComponent(value));
          }
        });

        Uri endpoint = Uri.parse(client.endPoint);
        Uri url = Uri(scheme: endpoint.scheme,
          host: endpoint.host,
          port: endpoint.port,
          path: endpoint.path + path,
          query: query.join('&')
        );

      return client.webAuth(url);
{% endif %}