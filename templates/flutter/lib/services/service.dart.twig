part of {{ language.params.packageName }};

{% import "flutter/base/macros.twig" as macros %}

{%if service.description %}
{{ service.description|dartComment}}
{% endif %}
class {{ service.name | caseUcfirst }} extends Service {
    {{ service.name | caseUcfirst }}(Client client): super(client);
{% for method in service.methods %}

     /// {{ method.title }}
{% if method.description %}
     ///
{{ method.description|dartComment }}
     ///
{% endif %}
    {% if method.type == 'webAuth' %}Future{% elseif method.type == 'location' %} Future<Uint8List> {% else %} {% if method.responseModel and method.responseModel != 'any' %}Future<models.{{method.responseModel | caseUcfirst}}>{% else %}Future{% endif %}{% endif %} {{ method.name | caseCamel }}({{ macros.method_parameters(method.parameters, method.consumes) }}) async {
        {% if method.parameters.path | length > 0 %}final{% else %}const{% endif %} String path = '{{ method.path }}'{% for parameter in method.parameters.path %}.replaceAll('{{ '{' }}{{ parameter.name | caseCamel }}{{ '}' }}', {{ parameter.name | caseCamel | escapeKeyword }}){% endfor %};

{% if 'multipart/form-data' in method.consumes %}
{{ include('flutter/base/file.twig') }}
{% elseif method.type == 'webAuth' %}
{{ include('flutter/base/oauth.twig') }}
{% elseif method.type == 'location' %}
{{ include('flutter/base/location.twig') }}
{% else %}
{{ include('flutter/base/api.twig') }}
{% endif %}

    }
{% endfor %}
}